<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Fyber with C++ - SDKBOX</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/custom.css" rel="stylesheet">


        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="http://sdkbox.com"><img src="http://www.cocos2d-x.org/s/sdkbox/SDKBOX_logo.png"></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Overview</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../installer/">Installer</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Plugins <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../achievement/">Achievements</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../adcolony/">AdColony</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../agecheq/">AgeCheq</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../appodeal/">Appodeal</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../bee7/">Bee7</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../chartboost/">Chartboost</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../facebook/">Facebook</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../flurryanalytics/">Flurry Analytics</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../">Fyber</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../googleanalytics/">Google Analytics</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../iap/">In-App Purchase</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../inmobi/">InMobi</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../kochava/">Kochava</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../leaderboard/">Leaderboard</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../playphone/">Playphone</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../review/">Ratings & Reviews</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../soomlagrow/">SOOMLA Grow</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../tune/">Tune</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../valuepotion/">Valuepotion</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../vungle/">Vungle</a>
</li>

                        
                            
  

                        
                            
<li >
    <a href="../../youtube/">Youtube</a>
</li>

                        
                            
  

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../release-note/">About</a>
                    </li>
                
                

                <!-- new add for language button -->
                <li>
                    <a href="http://sdkbox-doc.github.io/zh/">中文</a>
                </li>
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                
                    <li >
                        <a rel="next" href="../v3-lua/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../v2-js/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#prerequisites">Prerequisites</a></li>
        
    
        <li class="main "><a href="#integration">Integration</a></li>
        
    
        <li class="main "><a href="#important-notice">Important Notice</a></li>
        
            <li><a href="#disable-app-transport-security">Disable App Transport Security</a></li>
        
            <li><a href="#disable-bitcode-support">Disable Bitcode support</a></li>
        
            <li><a href="#set-your-game-requires-full-screen">Set your game requires full screen</a></li>
        
            <li><a href="#whitelist-canopenurl-function">Whitelist canOpenURL function</a></li>
        
    
        <li class="main "><a href="#extra-steps">Extra steps</a></li>
        
            <li><a href="#setup-ios">Setup iOS</a></li>
        
            <li><a href="#setup-android">Setup Android</a></li>
        
            <li><a href="#json-configuration">JSON Configuration</a></li>
        
    
        <li class="main "><a href="#usage">Usage</a></li>
        
            <li><a href="#initialize-fyber">Initialize Fyber</a></li>
        
            <li><a href="#using-fyber">Using Fyber</a></li>
        
            <li><a href="#fyber-events">Fyber events</a></li>
        
    
        <li class="main "><a href="#api-reference">API Reference</a></li>
        
            <li><a href="#methods">Methods</a></li>
        
            <li><a href="#listeners">Listeners</a></li>
        
    
        <li class="main "><a href="#manual-integration">Manual Integration</a></li>
        
    
        <li class="main "><a href="#manual-integration-for-ios">Manual Integration For iOS</a></li>
        
    
        <li class="main "><a href="#manual-integration-for-android">Manual Integration For Android</a></li>
        
            <li><a href="#copy-files">Copy Files</a></li>
        
            <li><a href="#edit-androidmanifestxml">Edit AndroidManifest.xml</a></li>
        
            <li><a href="#edit-androidmk">Edit Android.mk</a></li>
        
            <li><a href="#edit-aplicationmk">Edit Aplication.mk</a></li>
        
            <li><a href="#modify-java">Modify .java</a></li>
        
    
        <li class="main "><a href="#proguard-optional">Proguard (optional)</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p><a href="../">&#8249; Fyber Doc Home</a></p>
<h1>Fyber Integration Guide</h1>

<h4><em><b>For the C++ version of cocos2d-x v2.x</b> - (<a href="./../">all other versions</a>)</em></h4>

<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><strong>For Android, Fyber requires a minimum version of 4.0.3. This version is newer than what the other SDKBOX plugins require.</strong></li>
<li>Certain SDKBOX plugins do not work together. If you use <strong>Fyber</strong>, then you cannot also use the <strong>AdColony</strong> and <strong>SOOMLA GROW</strong> services, in the same project.</li>
</ul>
<h2 id="integration">Integration</h2>
<p>Open a terminal and use the following command to install the SDKBOX Fyber plugin. Make sure you setup the SDKBOX installer correctly.</p>
<pre><code class="bash">$ sdkbox import fyber
</code></pre>

<h2 id="important-notice">Important Notice</h2>
<p>If you upgraded to Xcode7 you need to perform the following steps to your project for plugin to function correctly.</p>
<h4 id="disable-app-transport-security">Disable App Transport Security</h4>
<p>Adding the following entry to the plist:</p>
<pre><code>&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;
&lt;dict&gt;
    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;
    &lt;true/&gt;
&lt;/dict&gt;
</code></pre>

<h4 id="disable-bitcode-support">Disable Bitcode support</h4>
<p>You have to turn off <strong>Bitcode</strong> support. If you don't cocos2d-x will fail to build.</p>
<h4 id="set-your-game-requires-full-screen">Set your game requires full screen</h4>
<p>If your game doesn't support all screen orientations you will need to check <code>Requires full screen</code> in Xcode. If you do not, your app will fail Apple's submission process.</p>
<h4 id="whitelist-canopenurl-function">Whitelist canOpenURL function</h4>
<p>This depends on what plugins are in your project. You may need to add the required entry to the <code>info.plist</code>, under <code>LSApplicationQueriesSchemes</code>.</p>
<h2 id="extra-steps">Extra steps</h2>
<p>The following step assuming you already registered as a Fyber Developer
And created a new <strong>APP</strong> on Fyber</p>
<h3 id="setup-ios">Setup iOS</h3>
<ul>
<li>Configure your <strong>APP</strong> following <a href="http://developer.fyber.com/content/ios/">iOS Quick Start Guide</a></li>
</ul>
<h3 id="setup-android">Setup Android</h3>
<ul>
<li>Make sure <code>java -version</code> &gt;= 1.7</li>
<li>Configure your <strong>APP</strong> on Fyber follow <a href="http://developer.fyber.com/content/android/basics/">Android Quick Start Guide</a></li>
<li>Open <code>project.properties</code> and change target to <code>target=android-15</code></li>
</ul>
<!--## Configuration
### SDKBOX Cloud
SDKBOX Cloud enables developers to receive the benefits of a centralized application management interface, by helping to boost their applications with extended functionality. The two main features are: __Remote Application Management__ which provides the abilities of updating and testing, and __IAP Receipt Verification__.

Developers must register at Chukong’s website to get __developers credentials__. After receiving __developers credentials__, developers can register an unlimited number of __applications__. Each __application__ will have an associated __application token__ and a __application secret__. These are used to securely transmit new plugin configurations to the clients as well as grant access to all the remotely accessible services.

### Remote Application Configuration
SDKBOX allows developers to create a __Remote Application Configuration__ for each application they are developing.

Registering the applications’ allows for on-the-fly update of its plugin’s configuration. For example, it will allow the change of the Google Analytics tracking code, switch to a new AdColony campaign or add new in-app purchase products without rebuilding and redeploying your apps to the app stores.

To enable this cloud service in your applications is as easy as calling a single __init()__ function and passing in your __application token__ and __application secret__ that were provided when you created the app in the previous section.

wzxhzdk:2

  __Note__: each application will have it’s own __application token__ and each configuration for each game will have it’s own __application secret__. The __application secret__ is the actual encryption key used to decipher the remote configuration.

When the developer updates a __Remote Application Configuration__ the application will automatically pull the new configuration and put it into effect. This means that you can update configuration information on the fly and everyone playing your game will get updated the next time the user starts the application!

To ensure security, during normal execution the new configuration is locally saved in the applications’s private folder, and the next time it restarts it is applied. Also, configurations are cyphered and its contents are not exposed, even if your application runs on a rooted/jailbroken device.
-->

<h3 id="json-configuration">JSON Configuration</h3>
<p>SDKBOX Installer will automatically create a sample configuration <code>sdkbox_config.json</code> for you</p>
<p>Here is an example of the Fyber configuration you can enable/disable debug mode for Fyber here</p>
<pre><code class="json">&quot;Fyber&quot;:
{
    &quot;debug&quot;:true,
    &quot;appid&quot;:&quot;12345&quot;,
    &quot;token&quot;:&quot;34a9643edf4d3052d2bc1928b2e34d00&quot;
}
</code></pre>

<!---->

<h2 id="usage">Usage</h2>
<h3 id="initialize-fyber">Initialize Fyber</h3>
<p>Initialize the plugin where appropriate in your code. We recommend to do this in the <code>AppDelegate::applicationDidFinishLaunching()</code> or <code>AppController:didFinishLaunchingWithOptions()</code>. Make sure to include the appropriate headers:</p>
<pre><code class="cpp">#include &quot;PluginFyber/PluginFyber.h&quot;
AppDelegate::applicationDidFinishLaunching()
{
     sdkbox::PluginFyber::init();
}
</code></pre>

<h3 id="using-fyber">Using Fyber</h3>
<h4 id="offer-wall">Offer Wall</h4>
<p>Displaying the Offer Wall with default <strong>placementId</strong></p>
<pre><code class="cpp">sdkbox::PluginFyber::showOfferWall();
</code></pre>

<p>Displaying the Offer Wall with custom <strong>placementId</strong></p>
<pre><code class="cpp">sdkbox::PluginFyber::showOfferWall(&quot;coins&quot;);
</code></pre>

<h4 id="rewarded-video">Rewarded Video</h4>
<ul>
<li>iOS configure follow <a href="http://developer.fyber.com/content/ios/rewarded-video/introduction/existing-integration/">rewarded-video-iOS</a></li>
<li>Android configure follow <a href="http://developer.fyber.com/content/android/rewarded-video/">rewarded-video-android</a></li>
</ul>
<p>Queries the server for <strong>BrandEngage</strong> offers availability with <strong>default placementId</strong>:</p>
<pre><code class="cpp">sdkbox::PluginFyber::requestOffers();
</code></pre>

<p>Queries the server for <strong>BrandEngage</strong> offers availability with custom <strong>placementId</strong>:</p>
<pre><code>sdkbox::PluginFyber::requestOffers(&quot;coins&quot;);
</code></pre>

<p>Display an available rewarded video, call <code>requestOffers()</code> first and then <code>showOffers()</code>. Developer can <code>requestOffers()</code> anytime, then <code>showOffers()</code> without any delay:</p>
<pre><code class="cpp">sdkbox::PluginFyber::requestOffers();
sdkbox::PluginFyber::showOffers();
</code></pre>

<h4 id="interstitials">Interstitials</h4>
<p>Check if interstitial ads are available:</p>
<pre><code class="cpp">sdkbox::PluginFyber::requestInterstitial();
</code></pre>

<p>Shows an interstitial ad. Call <code>requestInterstitial</code> first:</p>
<pre><code class="cpp">sdkbox::PluginFyber::showInterstitial();
</code></pre>

<p>Fetches the amount of a given currency earned since the last time this method was invoked for the current user ID / app ID combination:</p>
<pre><code class="cpp">sdkbox::PluginFyber::requestDeltaOfCoins();
</code></pre>

<p>or:</p>
<pre><code>sdkbox::PluginFyber::requestDeltaOfCoins(&quot;currencyId&quot;)
</code></pre>

<h3 id="fyber-events">Fyber events</h3>
<p>This allows you to catch <code>Fyber</code> events so that you can perform operations after Fyber events have occurred.</p>
<ul>
<li>Allow your class to extend <code>sdkbox::FyberListener</code> and override the functions listed:</li>
</ul>
<pre><code class="cpp">#include &quot;PluginFyber/PluginFyber.h&quot;
class MyClass : public sdkbox::FyberListener
{
private:
    void onVirtualCurrencyConnectorFailed(int error,
                                                  const std::string&amp; errorCode,
                                                  const std::string&amp; errorMsg);
    void onVirtualCurrencyConnectorSuccess(double deltaOfCoins,
                                                   const std::string&amp; currencyId,
                                                   const std::string&amp; currencyName,
                                                   const std::string&amp; transactionId);
    void onCanShowInterstitial(bool canShowInterstitial);
    void onInterstitialDidShow();
    void onInterstitialDismiss(const std::string&amp; reason);
    void onInterstitialFailed();
    void onBrandEngageClientReceiveOffers(bool areOffersAvailable);
    void onBrandEngageClientChangeStatus(int status, const std::string&amp; msg);
    void onOfferWallFinish(int status);
};
</code></pre>

<ul>
<li>Create a <strong>listener</strong> that handles callbacks:</li>
</ul>
<pre><code class="cpp">sdkbox::PluginFyber::setListener(this);
</code></pre>

<h2 id="api-reference">API Reference</h2>
<h3 id="methods">Methods</h3>
<pre><code class="cpp">static void init ( ) ;
</code></pre>

<blockquote>
<p>initialize the plugin instance.</p>
</blockquote>
<pre><code class="cpp">static void setListener ( FyberListener * listener ) ;
</code></pre>

<blockquote>
<p>Set listener to listen for fyber events</p>
</blockquote>
<pre><code class="cpp">static FyberListener * getListener ( ) ;
</code></pre>

<blockquote>
<p>Get the listener</p>
</blockquote>
<pre><code class="cpp">static void removeListener ( ) ;
</code></pre>

<blockquote>
<p>Remove the listener, and can't listen to events anymore</p>
</blockquote>
<pre><code class="cpp">static void showOfferWall ( const std::string &amp; placementId = &quot;&quot; ) ;
</code></pre>

<blockquote>
<p>Presents the SponsorPay Mobile OfferWall as a child view controller of your own view controller.</p>
</blockquote>
<pre><code class="cpp">static void requestOffers ( const std::string &amp; placementId = &quot;&quot; ) ;
</code></pre>

<blockquote>
<p>Queries the server for BrandEngage offers availability.</p>
</blockquote>
<pre><code class="cpp">static void showOffers ( ) ;
</code></pre>

<blockquote>
<p>Starts running an available engagement.</p>
</blockquote>
<pre><code class="cpp">static void requestInterstitial ( ) ;
</code></pre>

<blockquote>
<p>Check if interstitial ads are available</p>
</blockquote>
<pre><code class="cpp">static void showInterstitial ( ) ;
</code></pre>

<blockquote>
<p>Shows an interstitial ad. Check first that one is ready to be shown with requestInterstitial.</p>
</blockquote>
<pre><code class="cpp">static void requestDeltaOfCoins ( const std::string &amp; currencyId = &quot;&quot; ) ;
</code></pre>

<blockquote>
<p>Fetches the amount of a given currency earned since the last time this method was
invoked for the current user ID / app ID combination.</p>
</blockquote>
<h3 id="listeners">Listeners</h3>
<pre><code class="cpp">void onVirtualCurrencyConnectorFailed ( int error ,
                                        const std::string &amp; errorCode ,
                                        const std::string &amp; errorMsg );
</code></pre>

<pre><code class="cpp">void onVirtualCurrencyConnectorSuccess ( double deltaOfCoins ,
                                         const std::string &amp; currencyId ,
                                         const std::string &amp; currencyName ,
                                         const std::string &amp; transactionId );
</code></pre>

<pre><code class="cpp">void onCanShowInterstitial ( bool canShowInterstitial );
</code></pre>

<pre><code class="cpp">void onInterstitialDidShow ( );
</code></pre>

<pre><code class="cpp">void onInterstitialDismiss ( const std::string &amp; reason );
</code></pre>

<pre><code class="cpp">void onInterstitialFailed ( );
</code></pre>

<pre><code class="cpp">void onBrandEngageClientReceiveOffers ( bool areOffersAvailable );
</code></pre>

<pre><code class="cpp">void onBrandEngageClientChangeStatus ( int status , const std::string &amp; msg );
</code></pre>

<pre><code class="cpp">void onOfferWallFinish ( int status );
</code></pre>

<h2 id="manual-integration">Manual Integration</h2>
<p>If the <em>SDKBOX Installer</em> <strong>fails</strong> to complete successfully, it is possible to integrate SDKBOX manually. If the installer complete successfully, please <strong>do not</strong> complete anymore of this document. It is not necessary.</p>
<p>These steps are listed last in this document on purpose as they are seldom needed. If you find yourself using these steps, please, after completing, double back and re-read the steps above for other integration items.</p>
<h2 id="manual-integration-for-ios">Manual Integration For iOS</h2>
<p>Drag and drop the following frameworks from the <strong>plugins/ios</strong> folder of
the<code>Fyber</code> bundle into your Xcode project, check <code>Copy items if needed</code> when adding frameworks:</p>
<blockquote>
<p>sdkbox.framework</p>
<p>PluginFyber.framework</p>
</blockquote>
<p>The above frameworks depend upon a large number of other frameworks. You also need to add the following system frameworks, if you don't already have them:</p>
<blockquote>
<p>AdSupport.framework</p>
<p>CoreGraphics.framework</p>
<p>CoreLocation.framework</p>
<p>CoreTelephony.framework</p>
<p>MediaPlayer.framework</p>
<p>QuartzCore.framework</p>
<p>StoreKit.framework</p>
<p>SystemConfiguration.framework</p>
<p>Security.framework</p>
<p>CFNetwork.framework</p>
</blockquote>
<p>Add separate linker flags to:
<strong>Target -&gt; Build Settings -&gt; Linking -&gt; Other Linker Flags</strong>:</p>
<blockquote>
<p>-force_load PluginFyber.framework/PluginFyber</p>
</blockquote>
<h2 id="manual-integration-for-android">Manual Integration For Android</h2>
<p>SDKBOX supports three different kinds of <strong>Android</strong> projects <strong>command-line</strong>, <strong>eclipse</strong> and <strong>Android Studio</strong>. </p>
<ul>
<li><code>proj.android</code> will be used as our <code>&lt;project_root&gt;</code> for <strong>command-line</strong> and <strong>eclipse</strong> project</li>
<li><code>proj.android-studio</code> will be used as our <code>&lt;project_root&gt;</code> for <strong>Android Studio</strong> project.</li>
</ul>
<h3 id="copy-files">Copy Files</h3>
<p>Copy the following <strong>jar</strong> files from <code>plugin/android/libs</code> folder of this
bundle into your project’s <strong>proj.android/libs</strong> folder.</p>
<blockquote>
<p>PluginFyber.jar</p>
<p>sdkbox.jar</p>
</blockquote>
<h4 id="copy-jni-libs">Copy jni libs</h4>
<p>Copy and overwrite all the folders from <code>plugin/android/jni</code>
to your <code>&lt;project_root&gt;/jni/</code> directory.</p>
<blockquote>
<p>Note: sdkbox link with <code>gnustl</code> by default, if your project link with <code>c++static</code> please replace the files in <code>&lt;project_root&gt;/jni/&lt;plugin_name&gt;/libs</code> with files in <code>&lt;project_root&gt;/jni/&lt;plugin_name&gt;/libs_c++_static</code> folder</p>
</blockquote>
<h3 id="edit-androidmanifestxml">Edit <code>AndroidManifest.xml</code></h3>
<p>Include the following permissions above the <strong>application tag</strong>:</p>
<pre><code class="xml">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;
</code></pre>

<p>To enable <strong>hardware acceleration</strong> in your <strong>application tag</strong>. This tag is
optional on newer sdk versions and doesn't work on version 2.3.3.</p>
<pre><code class="xml">&lt;android:hardwareAccelerated=&quot;true&quot; /&gt;
</code></pre>

<p>There are also a few necessary meta-data tags that also need to be added:</p>
<pre><code class="xml">&lt;activity
    android:name=&quot;com.fyber.ads.ofw.OfferWallActivity&quot;
    android:configChanges=&quot;screenSize|orientation&quot; /&gt;
&lt;activity
    android:name=&quot;com.fyber.ads.videos.RewardedVideoActivity&quot;
    android:configChanges=&quot;screenSize|orientation&quot;
    android:hardwareAccelerated=&quot;true&quot;
  android:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;
&lt;activity
    android:name=&quot;com.fyber.ads.interstitials.InterstitialActivity&quot;
    android:configChanges=&quot;screenSize|orientation&quot;
    android:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;
&lt;activity
    android:configChanges=&quot;screenSize|orientation&quot;
    android:name=&quot;com.fyber.cache.CacheVideoDownloadService&quot;
    android:hardwareAccelerated=&quot;true&quot;/&gt;
&lt;service android:name=&quot;com.fyber.cache.CacheVideoDownloadService&quot; android:exported=&quot;false&quot; /&gt;
</code></pre>

<h3 id="edit-androidmk">Edit <code>Android.mk</code></h3>
<p>Edit <code>proj.android/jni/Android.mk</code> to:</p>
<p>Add additional requirements to <strong>LOCAL_WHOLE_STATIC_LIBRARIES</strong>:</p>
<pre><code>LOCAL_WHOLE_STATIC_LIBRARIES += android_native_app_glue
LOCAL_LDLIBS += -landroid
LOCAL_LDLIBS += -llog
LOCAL_WHOLE_STATIC_LIBRARIES += PluginFyber
LOCAL_WHOLE_STATIC_LIBRARIES += sdkbox
</code></pre>

<p>Add a call to:</p>
<pre><code>$(call import-add-path,$(LOCAL_PATH))
</code></pre>

<p>before any <strong>import-module</strong> statements.</p>
<p>Add additional <strong>import-module</strong> statements at the end:</p>
<pre><code>$(call import-module, ./sdkbox)
$(call import-module, ./pluginfyber)
</code></pre>

<p>This means that your ordering should look similar to this:</p>
<pre><code>$(call import-add-path,$(LOCAL_PATH))
$(call import-module, ./sdkbox)
$(call import-module, ./pluginfyber)
</code></pre>

<h3 id="edit-aplicationmk">Edit <code>Aplication.mk</code></h3>
<p>Edit <code>proj.android/jni/Application.mk</code> to:</p>
<p>Add <strong>APP_PATFORM</strong> version requirements:</p>
<pre><code>APP_PLATFORM := android-14
</code></pre>

<h3 id="modify-java">Modify <strong><YourGameName>.java</strong></h3>
<ul>
<li>Modify <strong>proj.android/src/<package identifier>/<YourGameName>.java</strong> to add the following imports:</li>
</ul>
<pre><code class="java">import android.content.Intent;
import com.sdkbox.plugin.SDKBox;
</code></pre>

<ul>
<li>Second, modify the class to edit the <code>onCreate(final Bundle savedInstanceState)</code> function to add a call to <code>SDKBox.init(this);</code>. Example of what this might look like for you:</li>
</ul>
<pre><code class="java">protected void onCreate(Bundle savedInstanceState){
  super.onCreate(savedInstanceState);
  SDKBox.init(this);
}
</code></pre>

<ul>
<li>
<p>Last, we need to insert the proper <strong>overrides</strong> code. There are a few rules here.</p>
<ul>
<li>
<p>If the method listed has not been defined, <strong>add it</strong>.</p>
</li>
<li>
<p>If the method listed has been defined, add the calls to <code>SDKBox</code> in the <strong>same</strong> existing function.</p>
</li>
</ul>
</li>
</ul>
<pre><code class="java">    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
          if(!SDKBox.onActivityResult(requestCode, resultCode, data)) {
            super.onActivityResult(requestCode, resultCode, data);
          }
    }
    @Override
    protected void onStart() {
          super.onStart();
          SDKBox.onStart();
    }
    @Override
    protected void onStop() {
          super.onStop();
          SDKBox.onStop();
    }
    @Override
    protected void onResume() {
          super.onResume();
          SDKBox.onResume();
    }
    @Override
    protected void onPause() {
          super.onPause();
          SDKBox.onPause();
    }
    @Override
    public void onBackPressed() {
          if(!SDKBox.onBackPressed()) {
            super.onBackPressed();
          }
    }
</code></pre>

<h2 id="proguard-optional">Proguard (optional)</h2>
<ul>
<li>Edit <code>project.properties</code>  to specify a <code>Proguard</code> configuration file. Example:</li>
</ul>
<pre><code>proguard.config=${sdk.dir}/tools/proguard/proguard-android.txt:proguard-project.txt
</code></pre>

<ul>
<li>Edit the file you specified to include the following:</li>
</ul>
<pre><code># Fyber

-keep class com.fyber.** { *; }
-dontwarn com.fyber.**
-keep class com.sponsorpay.mediation.** { *;}
-keepattributes JavascriptInterface
-keep class com.sponsorpay.publisher.mbe.mediation.SPBrandEngageMediationJSInterface {
    void setValue(java.lang.String);
}
-keep class android.webkit.JavascriptInterface


# cocos2d-x
-keep public class org.cocos2dx.** { *; }
-dontwarn org.cocos2dx.**
-keep public class com.chukong.** { *; }
-dontwarn com.chukong.**

# google play service
-keep class com.google.android.gms.** { *; }
-dontwarn com.google.android.gms.**

-keep class * extends java.util.ListResourceBundle {
    protected Object[][] getContents();
}

-keep public class com.google.android.gms.common.internal.safeparcel.SafeParcelable {
    public static final *** NULL;
}

-keepnames @com.google.android.gms.common.annotation.KeepName class *
-keepclassmembernames class * {
    @com.google.android.gms.common.annotation.KeepName *;
}

-keepnames class * implements android.os.Parcelable {
    public static final ** CREATOR;
}

#sdkbox
-keep class com.sdkbox.** { *; }
-dontwarn com.sdkbox.**
</code></pre>

<p><strong>Note:</strong> Proguard only works with <strong>Release</strong> builds (i.e <code>cocos run -m release</code>) debug builds do not invoke Proguard rules.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js"></script>

 
        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-70044300-2', 'auto');
            ga('send', 'pageview');
        </script>
        
    </body>
</html>
